!function($){$.fn.willslide=function(options){return methods[options]?methods[options].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof options&&options?void $.error("Method "+options+" does not exist on jQuery.willslide"):methods.init.apply(this,arguments)};var methods={init:function(options){var el=this;return willSlideSettings=$.extend({width:1500,height:500,mode:"fit"},options),el.running=!1,el.totalSlides=methods.countSlides(el),el.slidesOrder=[],el.currentSlidesOrder=[],el.timer=0,el.windowW=$(window).width(),el.windowH=$(window).height(),el.scale=methods.scale(el),methods.hide(el),methods.loadImages(el),methods.build(el),$(window).resize(function(){el.windowW=$(window).width(),el.windowH=$(window).height(),el.scale=methods.scale(el),methods.resize(el)}),this},loadImages:function(el){function imageLoaded(){counter--,0===counter&&el.show()}var images=el.find("img"),counter=images.length;images.each(function(){this.complete?imageLoaded.call(this):$(this).one("load",imageLoaded)})},countSlides:function(el){var slides=el.find(".slide").length;return slides},build:function(el){el.find(".slide").each(function(e){$(this).addClass("slide"+(e+1)),el.slidesOrder.push(e+1)});el.find("[willslidemode='fit']").each(function(){$(this).wrap("<div class='layer-wrapper'><div class='fit'></div></div>")}),el.find("[willslidemode='expand']").each(function(){$(this).wrap("<div class='layer-wrapper'><div class='expand'></div></div>")}),methods.resize(el)},scale:function(el){var scale=el.windowW/willSlideSettings.width;return scale},resize:function(el){"fit"===willSlideSettings.mode?(console.log(el.scale),el.scale>1?(el.find(".fit").each(function(){$(this).css({width:willSlideSettings.width,height:willSlideSettings.height})}),el.find(".expand").each(function(){$(this).css({width:el.windowW,height:willSlideSettings.height})}),el.css({width:el.windowW,height:willSlideSettings.height})):(el.find(".fit").each(function(){$(this).css({width:el.windowW,height:willSlideSettings.height*el.scale})}),el.find(".expand").each(function(){$(this).css({width:el.windowW,height:willSlideSettings.height*el.scale})}),el.css({width:el.windowW,height:willSlideSettings.height*el.scale}))):"expand"===willSlideSettings.mode&&(el.find(".fit").each(function(){$(this).css({width:el.windowW,height:willSlideSettings.height*el.scale})}),el.find(".expand").each(function(){$(this).css({width:el.windowW,height:willSlideSettings.height*el.scale})}),el.css({width:el.windowW,height:willSlideSettings.height*el.scale}))},hide:function(el){el.hide(),console.log("hide")},play:function(el){console.log("rodei play")},stop:function(el){console.log("rodei stop")}}}(jQuery);